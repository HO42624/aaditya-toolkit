<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Aj â€” Documents</title>
  <style>
    :root{--bg:#0f1724;--card:#0b1220;--muted:#9aa8bd;--accent:#3b82f6}
    html,body{height:100%;margin:0;font-family:Inter,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#071029 0%,#07172b 100%);color:#e6eef6}
    .container{max-width:1100px;margin:24px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,#1f6ce6,#b17cff);display:flex;align-items:center;justify-content:center;font-weight:700}
    h1{margin:0;font-size:20px}
    nav{display:flex;gap:8px}
    button, .btn{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:8px;color:inherit;cursor:pointer}
    .layout{display:grid;grid-template-columns:320px 1fr;gap:20px;margin-top:20px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
    .owner{display:flex;align-items:center;gap:12px}
    .owner .avatar{width:64px;height:64px;border-radius:10px;background:#132035;display:flex;align-items:center;justify-content:center;font-weight:600}
    .owner .meta{font-size:14px}
    .owner .meta small{display:block;color:var(--muted);margin-top:6px}
    .docs-list{margin-top:14px;display:flex;flex-direction:column;gap:10px}
    .doc-item{display:flex;align-items:center;justify-content:space-between;padding:10px;border-radius:8px;background:rgba(255,255,255,0.01);cursor:pointer}
    .doc-item:hover{background:rgba(255,255,255,0.02)}
    .viewer{height:78vh;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
    .viewer iframe{width:100%;height:100%;border:0;background:white}
    .controls{display:flex;gap:8px;align-items:center}
    input[type=file]{display:none}
    .muted{color:var(--muted);font-size:13px}
    .small{font-size:13px}
    footer{margin-top:18px;color:var(--muted);font-size:13px}
    @media(max-width:800px){.layout{grid-template-columns:1fr}} 
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">Aj</div>
        <div>
          <h1>Aj â€” Document Library</h1>
          <div class="muted">A simple Scribd-like static demo (host on GitHub Pages)</div>
        </div>
      </div>
      <nav class="controls">
        <label class="btn" for="fileInput">Upload PDF</label>
        <input id="fileInput" type="file" accept="application/pdf" />
        <button id="ownerBtn" class="btn">Owner</button>
        <button id="clearBtn" class="btn">Clear All (local)</button>
      </nav>
    </header><div class="layout">
  <aside class="card">
    <div class="owner">
      <div class="avatar" id="ownerAvatar">A</div>
      <div class="meta">
        <div id="ownerName">Owner â€” Aj</div>
        <small id="ownerBio">No bio set. Click Owner to edit.</small>
      </div>
    </div>

    <div style="margin-top:12px">
      <strong>Documents</strong>
      <div class="docs-list" id="docsList"></div>
      <div class="muted small" style="margin-top:10px">Uploaded files are stored in your browser (local only). To make them public you must add them to the repository or use external storage.</div>
    </div>
  </aside>

  <main>
    <div class="card viewer" id="viewerWrap">
      <iframe id="viewer" title="Document viewer" sandbox></iframe>
    </div>

    <footer>
      <div>Site: <strong>Aj</strong> Â· Built for GitHub Pages / static hosting</div>
      <div style="margin-top:6px">Tip: To make documents accessible from your public site, upload PDFs to your repo (or a storage bucket) and use their raw URLs here.</div>
    </footer>
  </main>
</div>

  </div>  <!-- Owner editor modal (simple) -->  <div id="ownerModal" style="position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.6)">
    <div style="background:var(--card);padding:18px;border-radius:10px;min-width:320px;border:1px solid rgba(255,255,255,0.03)">
      <h3 style="margin:0 0 8px 0">Edit Owner</h3>
      <div style="display:flex;flex-direction:column;gap:8px">
        <input id="ownerNameInput" placeholder="Owner name" />
        <input id="ownerAvatarInput" placeholder="Avatar text (e.g. A or ðŸ˜Š)" />
        <textarea id="ownerBioInput" placeholder="Short bio" rows="3"></textarea>
        <div style="display:flex;gap:8px;justify-content:flex-end">
          <button id="ownerCancel" class="btn">Cancel</button>
          <button id="ownerSave" class="btn">Save</button>
        </div>
      </div>
    </div>
  </div>  <script>
    // Simple static document manager.
    const docsKey = 'aj_docs_v1';
    const ownerKey = 'aj_owner_v1';

    // Elements
    const fileInput = document.getElementById('fileInput');
    const docsList = document.getElementById('docsList');
    const viewer = document.getElementById('viewer');
    const ownerBtn = document.getElementById('ownerBtn');
    const ownerModal = document.getElementById('ownerModal');
    const ownerNameEl = document.getElementById('ownerName');
    const ownerBioEl = document.getElementById('ownerBio');
    const ownerAvatarEl = document.getElementById('ownerAvatar');
    const ownerNameInput = document.getElementById('ownerNameInput');
    const ownerAvatarInput = document.getElementById('ownerAvatarInput');
    const ownerBioInput = document.getElementById('ownerBioInput');
    const ownerSave = document.getElementById('ownerSave');
    const ownerCancel = document.getElementById('ownerCancel');
    const clearBtn = document.getElementById('clearBtn');

    function loadOwner(){
      const raw = localStorage.getItem(ownerKey) || JSON.stringify({name:'Aj',avatar:'A',bio:'Owner of Aj library'});
      const owner = JSON.parse(raw);
      ownerNameEl.textContent = owner.name || 'Owner â€” Aj';
      ownerBioEl.textContent = owner.bio || 'No bio set.';
      ownerAvatarEl.textContent = owner.avatar || 'A';
      ownerNameInput.value = owner.name || '';
      ownerAvatarInput.value = owner.avatar || '';
      ownerBioInput.value = owner.bio || '';
    }

    function saveOwner(){
      const owner = {name:ownerNameInput.value||'Aj',avatar:ownerAvatarInput.value||'A',bio:ownerBioInput.value||''};
      localStorage.setItem(ownerKey, JSON.stringify(owner));
      loadOwner();
      ownerModal.style.display='none';
    }

    function loadDocs(){
      const raw = localStorage.getItem(docsKey) || '[]';
      return JSON.parse(raw);
    }

    function persistDocs(arr){
      localStorage.setItem(docsKey, JSON.stringify(arr));
    }

    function renderDocs(){
      const arr = loadDocs();
      docsList.innerHTML='';
      if(arr.length===0){docsList.innerHTML='<div class="muted small">No documents yet. Upload a PDF above.</div>';return}
      arr.forEach((d,idx)=>{
        const el = document.createElement('div');
        el.className='doc-item';
        el.innerHTML = `<div style='display:flex;flex-direction:column'><strong>${d.name}</strong><span class='muted small'>${d.size}</span></div><div><button class='btn' data-idx='${idx}'>Open</button></div>`;
        docsList.appendChild(el);
      });
      // attach open listeners
      docsList.querySelectorAll('button[data-idx]').forEach(b=>b.addEventListener('click',e=>{
        const i = Number(e.currentTarget.dataset.idx);
        openDoc(i);
      }));
    }

    function openDoc(index){
      const arr = loadDocs();
      const doc = arr[index];
      if(!doc) return;
      // doc.data is a base64 url
      viewer.src = doc.data;
    }

    fileInput.addEventListener('change',async e=>{
      const f = e.target.files && e.target.files[0];
      if(!f) return;
      if(f.type !== 'application/pdf'){alert('Please select a PDF file');return}
      const reader = new FileReader();
      reader.onload = function(ev){
        const url = ev.target.result; // data:application/pdf;base64,...
        const arr = loadDocs();
        arr.unshift({name:f.name,size:`${(f.size/1024).toFixed(1)} KB`,data:url,uploaded:Date.now()});
        // keep only recent 30 to avoid huge storage
        if(arr.length>30) arr.length=30;
        persistDocs(arr);
        renderDocs();
        // open newest
        openDoc(0);
      }
      reader.readAsDataURL(f);
      // reset input
      e.target.value='';
    });

    ownerBtn.addEventListener('click',()=>{ownerModal.style.display='flex'});
    ownerCancel.addEventListener('click',()=>{ownerModal.style.display='none'});
    ownerSave.addEventListener('click',saveOwner);

    clearBtn.addEventListener('click',()=>{
      if(confirm('Clear all saved documents from this browser?')){
        localStorage.removeItem(docsKey);
        renderDocs();
        viewer.src='';
      }
    });

    // initialization
    loadOwner();
    renderDocs();

    // Allow adding public remote documents by dropping a URL into viewer area
    document.getElementById('viewerWrap').addEventListener('drop',async ev=>{
      ev.preventDefault();
      const text = (ev.dataTransfer.getData('text/plain')||'').trim();
      if(text && (text.endsWith('.pdf') || text.includes('pdf'))){
        viewer.src = text;
      }
    });
    document.getElementById('viewerWrap').addEventListener('dragover',ev=>ev.preventDefault());

    // Helpful note: GitHub Pages won't accept file uploads from users. To make files public, add them to your repository
    // and reference their raw URLs (e.g. https://raw.githubusercontent.com/username/repo/branch/path/file.pdf)
  </script></body>
    </html>
